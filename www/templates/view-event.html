<ion-view view-title="{{ viewEventCtrl.userEvent().eventTitle }}">
  <ion-content>

    <div class="list card">

      <div class="item item-avatar">
        <img src="img/alarming.jpg">
        <h2>{{ viewEventCtrl.userEvent().eventTitle }}</h2>
        <p>{{ viewEventCtrl.userEvent().dateTime | date:'d MMM yyyy, HH:mm' }}</p>
        <p>{{ viewEventCtrl.userEvent().postcode }}</p>
      </div>

      <div class="item item-body">
        <div id="map">
          <ion-content scroll="false">
            <map on-create="viewEventCtrl.mapCreated(map)" latlong='viewEventCtrl.latlong'></map>
          </ion-content>
          <ion-footer-bar class="bar-dark">
            <a id="locate" ng-click="viewEventCtrl.centerOnMe(mode)" class="button
              button-icon icon ion-navigate">Get Directions</a>
              <div id="travel" class="list">
                <label class="item item-input item-select">
                  <div class="input-label">
                    Transport Type
                  </div>
                  <select name="travelOptions" id="travelOptions"
                    ng-model="mode">
                    <option value="DRIVING">Driving</option>
                    <option value="WALKING">Walking</option>
                    <option value="BICYCLING">Bicycle</option>
                    <option value="TRANSIT">Public Transport</option>
                  </select>
                </label>
              </div>
          </ion-footer-bar>
        </div>
      </div>

      <div class="item item-body" ng-show="viewEventCtrl.viewDirections">
        <div class="item">
          <input type="checkbox" ng-model="collapse"> Show full directions</input>
          <div id="directions" class="item" ng-show="collapse"></div>
        </div>
      </div>

      <div class="item item-body">
        <p><strong>Description:</strong> {{ viewEventCtrl.userEvent().description }}</p>
        <div ng-repeat="(key, attendee) in viewEventCtrl.userEvent().attendees">
          <div class="item item-button-right">
            {{ attendee.email }}
            <div class="buttons">
              <button ng-click="viewEventCtrl.response(key, attendee)" class="button button-small ion-checkmark-round"
                ng-class="{'button-positive': attendee.attending,
                'button-light': !attendee.attending}">
              </button>
              <button ng-click="viewEventCtrl.response(key, attendee)" class="button button-small ion-close-round"
                ng-class="{'button-assertive': !attendee.attending,
                'button-light': attendee.attending}">
              </button>
              <button ng-show="viewEventCtrl.tellLate()"
                ng-click="viewEventCtrl.late(key, attendee)" class="button button-full"
                ng-class="{'button-light':
                !viewEventCtrl.userEvent().attendees[key].late.late,
                'button-positive':
                viewEventCtrl.userEvent().attendees[key].late.late}">
                Late
              </button>
            </div>
          </div>
          <div>
            <input type="text"/>
        </div>
      </div>

    </div>

  </ion-content>
</ion-view>
